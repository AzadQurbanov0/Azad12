<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Para Ã‡uvalÄ±</title>
<style>
:root{
  --bg1:#0f0c29; --bg2:#302b63; --bg3:#24243e; --card:rgba(255,255,255,0.06);
  --glass:rgba(255,255,255,0.12); --text:#f8fafc; --accent:#22c55e; --red:#dc2626;
}
*{box-sizing:border-box;margin:0;padding:0;}
html{height:100%;}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,'Helvetica Neue',Arial,'Apple Color Emoji','Segoe UI Emoji';
  color:var(--text); background:linear-gradient(135deg,var(--bg1),var(--bg2) 50%,var(--bg3));
  display: flex; align-items: center; justify-content: center;
  min-height: 100vh; overflow:hidden; 
}
.wrap{display:grid;place-items:center;gap:12px;text-align:center;padding:20px;}
.user-info{font-size:1rem;font-weight:600;opacity:.9;margin-bottom:6px;}
.google-btn.hidden { display: none; }
.card{
  position:relative; width:min(60vw,320px); aspect-ratio:1/1; display:grid; place-items:center;
  background: radial-gradient(60% 60% at 50% 30%,var(--glass),transparent 70%),var(--card);
  border:1px solid rgba(255,255,255,0.14); border-radius:24px;
  box-shadow:0 15px 40px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08);
  backdrop-filter:blur(6px);
}
.bag{font-size:clamp(5rem,18vw,12rem);filter:drop-shadow(0 8px 15px rgba(0,0,0,0.35));user-select:none;animation:float 5s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}
.balance{margin-top:10px;display:grid;place-items:center;font-weight:700;letter-spacing:1px;text-shadow:0 2px 5px rgba(0,0,0,0.5);}
.balance .symbol{font-size:clamp(1rem,2.5vw,1.5rem);opacity:.9;margin-right:4px;}
.balance .value{font-size:clamp(1.5rem,5vw,2.5rem);line-height:1;}
.google-btn{ margin-top:14px; padding:8px 16px; font-size:0.95rem; background:#4285F4; color:white; border:none; border-radius:8px; cursor:pointer; display:flex; align-items:center; gap:6px; font-weight:600;}
.action-buttons button { position: fixed; right: 20px; padding: 8px 14px; font-size: 0.9rem; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; z-index:1000; }
#payBtn { top: 20px; background: #22c55e; }
#cekBtn { top: 58px; background: #2563eb; }
#pulCekBtn { top: 96px; background: #f59e0b; }
#notification-bell { position: fixed; top: 20px; left: 20px; font-size: 28px; cursor: pointer; user-select: none; z-index: 10000; }
#notification-badge { position: absolute; top: -5px; right: -8px; background: #ef4444; color: white; width: 20px; height: 20px; border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; }
/* --- YENÄ° ANÄ°MASÄ°YALI MODAL PÆNCÆRÆ STÄ°LÄ° --- */
.modalOverlay{ position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; z-index:9999; display:none; opacity: 0; transition: opacity 0.3s ease-in-out; }
.modalOverlay.visible { opacity: 1; }
.modalContent{ background:linear-gradient(135deg,var(--bg1),var(--bg2)); padding:20px; border-radius:12px; text-align:center; color:white; width: min(90vw, 350px); max-height: 90vh; display: flex; flex-direction: column; transform: scale(0.9); transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1); }
.modalOverlay.visible .modalContent { transform: scale(1); }
.modalContent .close-modal-btn { margin-top: auto; padding-top: 15px; }
.modal-scrollable-content { overflow-y: auto; flex-grow: 1; }
.modalContent input { display: block; width: 95%; margin: 10px auto; padding: 10px; border-radius: 5px; border: 1px solid rgba(255, 255, 255, 0.2); background: #FFFFFF; color: #212529; font-size: 1rem; }
.modalContent button { margin-top:12px; padding:8px 16px; font-size:1rem; border:none; border-radius:8px; cursor:pointer; }
#announcements-container { margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; }
.announcement-item { background: rgba(14, 165, 233, 0.1); border-left: 4px solid #0ea5e9; padding: 12px; border-radius: 6px; text-align: left; margin-bottom: 10px; }
.announcement-text { font-size: 0.9rem; margin: 0; white-space: pre-wrap; word-break: break-word; }
.announcement-meta { font-size: 0.75rem; opacity: 0.7; margin-top: 8px; text-align: right; }
#notifications-list { max-height: 350px; overflow-y: auto; text-align: left; padding: 5px; background: rgba(0,0,0,0.2); border-radius: 8px; }
.notification-item { background: rgba(255,255,255,0.05); padding: 12px; border-radius: 6px; margin-bottom: 8px; font-size: 0.9rem; border-left: 4px solid #555; }
.notification-item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.notification-item-amount { font-size: 1.1rem; font-weight: bold; }
.notification-item-amount.positive { color: #22c55e; } .notification-item-amount.negative { color: #fca5a5; }
.notification-item-status { font-weight: bold; padding: 4px 8px; border-radius: 6px; color: white; font-size: 0.8rem;}
.notification-item-body { font-size: 0.85rem; opacity: 0.8; display: flex; justify-content: space-between; align-items: center; }
.notification-item-footer { font-size: 0.75rem; opacity: 0.7; margin-top: 8px; text-align: right; }
.status-pending { border-left-color: #f59e0b; } .status-pending .notification-item-status { background-color: #f59e0b; }
.status-approved { border-left-color: #16a34a; } .status-approved .notification-item-status { background-color: #16a34a; }
.status-rejected { border-left-color: #dc2626; } .status-rejected .notification-item-status { background-color: #dc2626; }
.status-cancelled { border-left-color: #6b7280; } .status-cancelled .notification-item-status { background-color: #6b7280; }
.status-deposit { border-left-color: #3b82f6; } .status-deposit .notification-item-status { background-color: #3b82f6; }
.cancel-btn { background: var(--red); color: white; border: none; padding: 4px 8px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; font-weight: 600; }
#support-widget { position: fixed; bottom: 80px; right: 20px; z-index: 10000; }
#chat-toggle-btn { background: #0ea5e9; color: white; width: 60px; height: 60px; border-radius: 50%; border: none; font-size: 28px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.3); position: relative; }
#chat-notification-badge { position: absolute; top: 0px; right: 0px; background: #ef4444; color: white; min-width: 22px; height: 22px; border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 12px; font-weight: bold; padding: 2px; }
#chat-window { position: absolute; bottom: 80px; right: 0; width: 320px; max-width: 90vw; height: 400px; background: var(--bg3); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; display: none; flex-direction: column; overflow: hidden; }
#chat-header { padding: 10px; background: rgba(0,0,0,0.2); font-weight: bold; text-align: center; }
#chat-messages { flex-grow: 1; padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; }
.message { max-width: 80%; padding: 8px 12px; border-radius: 10px; line-height: 1.4; word-break: break-word; }
.message.user { background: #2563eb; color: white; align-self: flex-end; }
.message.admin { background: #4b5563; color: white; align-self: flex-start; }
#chat-input-area { display: flex; padding: 10px; border-top: 1px solid rgba(255,255,255,0.1); }
#chat-input { flex-grow: 1; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; padding: 8px; color: white; }
#send-chat-btn { background: #0ea5e9; color: white; border: none; padding: 0 12px; border-radius: 6px; margin-left: 8px; cursor: pointer; font-weight: bold; }
#preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg1); z-index: 10001; transition: opacity 1s ease-in-out; }
#animated-bag { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: clamp(5rem,18vw,12rem); z-index: 10002; opacity: 0; filter: drop-shadow(0 8px 15px rgba(0,0,0,0.35)); }
.content-wrapper { opacity: 0; visibility: hidden; transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out; width:100%; height: 100%; overflow-y: auto; }
.balance-update-text { animation: text-flash 0.7s ease-in-out; }
@keyframes text-flash { 0% { color: var(--text); transform: scale(1); } 50% { color: var(--accent); transform: scale(1.2); text-shadow: 0 0 10px var(--accent); } 100% { color: var(--text); transform: scale(1); } }
.coin { position: fixed; top: -50px; font-size: 2rem; z-index: 9998; pointer-events: none; animation-name: fall-and-fade; animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53); animation-fill-mode: forwards; }
@keyframes fall-and-fade { from { transform: translateY(0) rotateZ(0deg); opacity: 1; } to { transform: translateY(65vh) rotateZ(360deg); opacity: 0; } }
.filter-buttons { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; }
.filter-btn { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: var(--text); padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; transition: background 0.2s ease; }
.filter-btn:hover { background: rgba(255,255,255,0.2); }
.filter-btn.active { background: var(--accent); color: var(--bg1); font-weight: bold; border-color: var(--accent); }
#status-icon { position: fixed; top: 20px; left: 60px; font-size: 28px; cursor: pointer; user-select: none; z-index: 10000; }
#status-list { text-align: left; display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
.status-item { display: flex; align-items: center; gap: 12px; }
.status-indicator { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }
.status-indicator.active { background-color: var(--accent); }
.status-indicator.delayed { background-color: #f59e0b; }
.status-indicator.paused { background-color: var(--red); }
.status-text .label { font-weight: bold; display: block; margin-bottom: 4px; }
.status-text .description { font-size: 0.9rem; opacity: 0.8; }
#countdown-banner { display: none; position: fixed; top: 20px; right: 20px; transform: translateX(120%); background: rgba(15, 12, 41, 0.8); backdrop-filter: blur(5px); color: #f59e0b; padding: 12px 20px; border-radius: 10px; border: 1px solid rgba(245, 158, 11, 0.3); z-index: 10005; font-weight: 600; box-shadow: 0 6px 20px rgba(0,0,0,0.3); width: auto; transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1); }
#countdown-banner.visible { transform: translateX(0); }
.falling-coin { position: fixed; top: -60px; font-size: 2.2rem; user-select: none; pointer-events: auto; cursor: pointer; z-index: 10003; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.4)); padding: 5px; }
@keyframes fall-animation { from { transform: translateY(0) rotateZ(0deg); opacity: 1; } to { transform: translateY(100vh) rotateZ(720deg); opacity: 0; } }
#leaderboardModal .modalContent ul { list-style: none; padding: 0; width: 100%; text-align: left; margin-top: 15px; max-height: 400px; overflow-y: auto; }
#leaderboardModal .modalContent li { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px; margin-bottom: 8px; font-size: 0.95rem; font-weight: 500; }
#leaderboardModal .modalContent li:first-child { background: #f59e0b; color: var(--bg1); font-weight: bold; }
#game-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 10002; display: none; }
.page { display: none; width: 100%; padding: 20px; padding-bottom: 80px; }
.page.active { display: block; }
.page#home-page.active { display: grid; place-items: center; min-height: calc(100vh - 80px); }
/* --- YENÄ°, TÆKMÄ°LLÆÅDÄ°RÄ°LMÄ°Å NAVÄ°QASÄ°YA PANELÄ° --- */
.bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 65px; background: linear-gradient(to top, rgba(15, 12, 41, 0.95), rgba(15, 12, 41, 0.8)); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid rgba(255, 255, 255, 0.15); z-index: 10010; box-shadow: 0 -5px 20px rgba(0,0,0,0.2); }
.nav-btn { background: none; border: none; color: var(--text); opacity: 0.6; font-size: 24px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 2px; transition: opacity 0.3s, color 0.3s, transform 0.2s; padding: 5px; }
.nav-btn span { font-size: 11px; font-weight: 600; }
.nav-btn:hover { opacity: 1; transform: translateY(-3px); }
.nav-btn.active { color: var(--accent); opacity: 1; }
.page h2 { margin-bottom: 20px; font-size: 1.8rem; text-align: center; display:flex; align-items:center; justify-content:center; gap: 10px; }
.page p { max-width: 400px; margin: 0 auto; opacity: 0.8; text-align: center;}
.faq-container { max-width: 600px; margin: 0 auto; text-align: left; }
.faq-item { background: rgba(255,255,255,0.05); border-radius: 8px; margin-bottom: 10px; }
.faq-item summary { font-weight: bold; font-size: 1rem; padding: 15px; cursor: pointer; position: relative; list-style: none; }
.faq-item summary::-webkit-details-marker { display: none; }
.faq-item summary::after { content: '+'; position: absolute; right: 20px; font-size: 1.5rem; }
.faq-item[open] > summary::after { content: 'âˆ’'; }
.faq-content { padding: 0 15px 15px; opacity: 0.8; line-height: 1.6; }
/* --- LÄ°DERLÆR SÆHÄ°FÆSÄ° ÃœÃ‡ÃœN YENÄ° STÄ°LLÆR --- */
#leaderboard-container ol { list-style: none; padding: 0; width: 100%; max-width: 500px; margin: 0 auto; }
#leaderboard-container li { display: flex; align-items: center; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px; margin-bottom: 8px; }
#leaderboard-container li .rank { font-weight: bold; font-size: 1.1rem; min-width: 40px; text-align: center; color: var(--accent); }
#leaderboard-container li .name { font-weight: 600; flex-grow: 1; }
#leaderboard-container li .balance { font-weight: bold; font-size: 1.1rem; }
#leaderboard-container li:nth-child(1) { background: linear-gradient(90deg, #f59e0b, #facc15); color: var(--bg1); }
#leaderboard-container li:nth-child(1) .rank { color: var(--bg1); }
#leaderboard-container li:nth-child(2) { background: #9ca3af; color: var(--bg1); }
#leaderboard-container li:nth-child(2) .rank { color: var(--bg1); }
#leaderboard-container li:nth-child(3) { background: #ca8a4b; color: var(--bg1); }
#leaderboard-container li:nth-child(3) .rank { color: var(--bg1); }
</style>
</head>
<body>
<div id="preloader"></div>
<div id="animated-bag">ğŸ’°</div>
<div id="game-overlay"></div>
<div id="countdown-banner">Para YaÄŸÄ±ÅŸÄ± <span id="countdown-timer">30</span> saniyÉ™yÉ™ baÅŸlayÄ±r!</div>

<div class="content-wrapper">
    <div id="home-page" class="page active">
        <div id="notification-bell" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')"><span>ğŸ””</span><div id="notification-badge" style="display:none;"></div></div>
        <div id="status-icon" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')"><span>â„¹ï¸</span></div>
        <div class="action-buttons">
            <button id="payBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">ğŸ’² YÃœKLÆ</button>
            <button id="cekBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">ğŸ“· Ã‡EK</button>
            <button id="pulCekBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">ğŸ¦ Ã‡EK</button>
        </div>
        <div class="wrap">
            <div id="userInfo" class="user-info"></div>
            <div class="card">
                <div class="bag">ğŸ’°</div>
                <div class="balance"><span class="symbol">AZN</span><span id="balance" class="value">0.00</span></div>
            </div>
            <button class="google-btn" id="loginBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">ğŸŒ GiriÅŸ</button>
        </div>
    </div>
        <div id="leaderboard-page" class="page" style="padding-top: 60px;">
        <h2><img src="data:image/png;base64,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" width="32" alt="Medal"> LiderlÉ™r SÄ±rasÄ±</h2>
        <div id="leaderboard-container">
             <p>LiderlÉ™r cÉ™dvÉ™li yÃ¼klÉ™nir...</p>
        </div>
    </div>

    <div id="stats-page" class="page" style="padding-top: 60px;">
        <h2><img src="data:image/png;base64,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" width="32" alt="Chart"> ÅÉ™xsi Statistika</h2>
        <p>MaliyyÉ™ É™mÉ™liyyatlarÄ±nÄ±zÄ±n detallÄ± statistikasÄ± vÉ™ aylÄ±q hesabatlar tezliklÉ™ burada É™lÃ§atan olacaq.</p>
    </div>

    <div id="help-page" class="page" style="padding-top: 60px;">
        <h2><img src="data:image/png;base64,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" width="32" alt="Question"> KÃ¶mÉ™k MÉ™rkÉ™zi</h2>
        <div class="faq-container">
            <details class="faq-item">
                <summary>BalansÄ±ma necÉ™ pul yÃ¼klÉ™yÉ™ bilÉ™rÉ™m?</summary>
                <div class="faq-content">
                    <p>Æsas sÉ™hifÉ™dÉ™ki yaÅŸÄ±l "YÃœKLÆ" dÃ¼ymÉ™sinÉ™ basÄ±n. AÃ§Ä±lan pÉ™ncÉ™rÉ™dÉ™ gÃ¶stÉ™rilÉ™n M10 hesab nÃ¶mrÉ™sinÉ™ mÉ™blÉ™ÄŸi kÃ¶Ã§Ã¼rdÃ¼kdÉ™n sonra qÉ™bzin ÅŸÉ™klini "Ã‡EK" bÃ¶lmÉ™si vasitÉ™silÉ™ bizÉ™ gÃ¶ndÉ™rin. ÆmÉ™liyyat qÄ±sa zamanda tÉ™sdiqlÉ™nÉ™cÉ™k.</p>
                </div>
            </details>
            <details class="faq-item">
                <summary>Pul Ã§Ä±xarÄ±ÅŸÄ± nÉ™ qÉ™dÉ™r vaxt aparÄ±r?</summary>
                <div class="faq-content">
                    <p>Pul Ã§Ä±xarÄ±ÅŸ sorÄŸularÄ± adÉ™tÉ™n 24 saat É™rzindÉ™ yoxlanÄ±lÄ±r vÉ™ tÉ™sdiqlÉ™nir. SorÄŸunuzun statusunu bildiriÅŸlÉ™r ("ğŸ””") bÃ¶lmÉ™sindÉ™n izlÉ™yÉ™ bilÉ™rsiniz.</p>
                </div>
            </details>
            <details class="faq-item">
                <summary>"Para YaÄŸÄ±ÅŸÄ±" nÉ™dir?</summary>
                <div class="faq-content">
                    <p>"Para YaÄŸÄ±ÅŸÄ±" mÃ¼É™yyÉ™n zamanlarda keÃ§irilÉ™n bonus oyunudur. Oyun aktiv olduqda ekrana dÃ¼ÅŸÉ™n ikonlarÄ± kliklÉ™yÉ™rÉ™k xal toplayÄ±rsÄ±nÄ±z. Oyunun sonunda É™n Ã§ox xal toplayan iÅŸtirakÃ§Ä±lar real pul mÃ¼kafatlarÄ± qazanÄ±r.</p>
                </div>
            </details>
        </div>
    </div>
</div>
<div class="modalOverlay" id="payModal"><div class="modalContent"><p>ğŸ’² PUL YÃœKLÆ M10 077 543 50 53</p><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>
<div class="modalOverlay" id="cekModal"><div class="modalContent"><p>Ã‡ÆKÄ°N ÅÆKLÄ°NÄ° GÃ–NDÆRMÆYÆ BAS</p><button id="sendCekBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">GÃ–NDÆR</button><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>
<div class="modalOverlay" id="pulCekModal"><div class="modalContent"><h3>Pul Ã‡Ä±xarma SorÄŸusu</h3><div class="modal-scrollable-content"><input type="number" id="withdrawAmount" placeholder="MÉ™blÉ™ÄŸ (AZN)" required><input type="text" id="userName" placeholder="Ad" required><input type="text" id="userSurname" placeholder="Soyad" required><input type="tel" id="cardNumber" placeholder="Kart nÃ¶mrÉ™si (16 rÉ™qÉ™m)" maxlength="16" required></div><button id="withdrawBtn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">ğŸ’¸ PUL Ã‡IXART</button><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>
<div class="modalOverlay" id="notificationsModal"><div class="modalContent"><h3>Hesab Ã‡Ä±xarÄ±ÅŸÄ± vÉ™ Elanlar</h3><div class="modal-scrollable-content"><div class="filter-buttons"><button class="filter-btn" onclick="fetchAndDisplayHistory('7d'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">Son 7 gÃ¼n</button><button class="filter-btn" onclick="fetchAndDisplayHistory('month'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">Bu Ay</button><button class="filter-btn active" onclick="fetchAndDisplayHistory('all'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BÃ¼tÃ¼n TarixÃ§É™</button></div><div id="announcements-container"></div><div id="notifications-list"></div></div><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>
<div class="modalOverlay" id="statusModal"><div class="modalContent"><h3>Sistem VÉ™ziyyÉ™ti</h3><div class="modal-scrollable-content"><div id="status-list"><p>MÉ™lumatlar yÃ¼klÉ™nir...</p></div></div><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>
<div class="modalOverlay" id="leaderboardModal"><div class="modalContent"><h3>Para YaÄŸÄ±ÅŸÄ± NÉ™ticÉ™lÉ™ri</h3><div class="modal-scrollable-content"><div id="leaderboard-list"></div></div><button class="close-modal-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">BaÄŸla</button></div></div>

<div id="support-widget">
    <div id="chat-window">
        <div id="chat-header">DÉ™stÉ™k</div>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n...">
            <button id="send-chat-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')"> gÃ¶ndÉ™r</button>
        </div>
    </div>
    <button id="chat-toggle-btn" onclick="playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')">
        <span>ğŸ’¬</span>
        <div id="chat-notification-badge" style="display:none;"></div>
    </button>
</div>

<nav class="bottom-nav">
    <button onclick="showPage('home-page'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')" class="nav-btn active">ğŸ <br><span>Æsas</span></button>
    <button onclick="showPage('leaderboard-page'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')" class="nav-btn">ğŸ¥‡<br><span>LiderlÉ™r</span></button>
    <button onclick="showPage('stats-page'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')" class="nav-btn">ğŸ“Š<br><span>Statistika</span></button>
    <button onclick="showPage('help-page'); playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3')" class="nav-btn">â“<br><span>KÃ¶mÉ™k</span></button>
</nav>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-database-compat.js"></script>
<script>
    // --- YENÄ° SÆS EFFEKTÄ° FUNKSÄ°YASI ---
    function playSound(soundUrl) {
        try {
            const audio = new Audio(soundUrl);
            audio.volume = 0.5; // SÉ™s gÃ¼cÃ¼nÃ¼ tÉ™nzimlÉ™yÉ™ bilÉ™rsiniz
            audio.play();
        } catch (e) {
            console.error("SÉ™s faylÄ± oxunmadÄ±:", e);
        }
    }

    // --- YENÄ° MODAL PÆNCÆRÆ GÃ–STÆRMÆ/GÄ°ZLÆTMÆ FUNKSÄ°YALARI ---
    function openModal(modalId) {
        playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3');
        const modal = document.getElementById(modalId);
        if(modal) {
            modal.style.display = 'flex';
            setTimeout(() => modal.classList.add('visible'), 10);
            document.getElementById('support-widget').style.display = 'none';
        }
    }
    function closeModal(event) {
        playSound('https://cdn.pixabay.com/audio/2022/03/15/audio_73ed4f115d.mp3');
        const modal = event.target.closest('.modalOverlay');
        if(modal) {
            modal.classList.remove('visible');
            setTimeout(() => {
                modal.style.display = 'none';
                document.getElementById('support-widget').style.display = 'block';
            }, 300); // AnimasiyanÄ±n bitmÉ™sini gÃ¶zlÉ™
        }
    }

    // SÆHÄ°FÆ GÃ–STÆRMÆ FUNKSÄ°YASI (LÄ°DERLÆR CÆDVÆLÄ° ÆLAVÆ EDÄ°LDÄ°)
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(page => { page.classList.remove('active'); });
        const activePage = document.getElementById(pageId);
        if (activePage) { activePage.classList.add('active'); }
        document.querySelectorAll('.nav-btn').forEach(btn => { btn.classList.remove('active'); });
        const activeButton = document.querySelector(`.nav-btn[onclick*="showPage('${pageId}')"]`);
        if (activeButton) { activeButton.classList.add('active'); }
        if (pageId === 'leaderboard-page') {
            displayLeaderboard();
        }
    }

    const firebaseConfig = { apiKey: "AIzaSyC4sGTK_P4KperVswrxxmt69H5cocsgnNw", authDomain: "niceuc-e5986.firebaseapp.com", databaseURL: "https://niceuc-e5986-default-rtdb.firebaseio.com", projectId: "niceuc-e5986", appId: "1:242221260650:web:d140153a2167c4738dcf13" };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();
    let balanceListener = null, chatStateListener = null, messageListener = null, notificationDepositListener = null, notificationWithdrawalListener = null;
    
    function animateCountUp(element, start, end, duration) { let startTime = null; const step = (timestamp) => { if (!startTime) startTime = timestamp; const progress = Math.min((timestamp - startTime) / duration, 1); const current = start + progress * (end - start); element.textContent = current.toFixed(2); if (progress < 1) { window.requestAnimationFrame(step); } }; window.requestAnimationFrame(step); }
    function createCoinShower() { const coinCount = 10; const body = document.body; for (let i = 0; i < coinCount; i++) { const coin = document.createElement('span'); coin.className = 'coin'; coin.innerHTML = 'ğŸª™'; coin.style.left = `${Math.random() * 95}vw`; coin.style.animationDuration = `${Math.random() * 0.8 + 0.6}s`; coin.style.animationDelay = `${Math.random() * 0.4}s`; body.appendChild(coin); setTimeout(() => { coin.remove(); }, 2000); } }

    // --- YENÄ° BÄ°LDÄ°RÄ°Å SÄ°STEMÄ° FUNKSÄ°YASI ---
    function listenForNotifications(userId, userLoginTime) {
        if(notificationDepositListener) notificationDepositListener.off();
        if(notificationWithdrawalListener) notificationWithdrawalListener.off();
        
        const notificationBadge = document.getElementById('notification-badge');
        
        notificationDepositListener = db.ref('deposits').orderByChild('uid').equalTo(userId);
        notificationDepositListener.on('child_added', (snapshot) => {
            const deposit = snapshot.val();
            if (deposit.createdAt > userLoginTime) {
                notificationBadge.style.display = 'flex';
                playSound('https://cdn.pixabay.com/audio/2021/08/04/audio_12b0c74438.mp3');
            }
        });

        notificationWithdrawalListener = db.ref('withdrawals').orderByChild('uid').equalTo(userId);
        notificationWithdrawalListener.on('child_added', (snapshot) => {
            const withdrawal = snapshot.val();
            if (withdrawal.createdAt > userLoginTime && withdrawal.status !== 'pending') {
                 notificationBadge.style.display = 'flex';
                 playSound('https://cdn.pixabay.com/audio/2021/08/04/audio_12b0c74438.mp3');
            }
        });
    }

    auth.onAuthStateChanged(user => {
        const supportWidget = document.getElementById('support-widget');
        const loginBtn = document.getElementById('loginBtn');
        let lastKnownBalance = 0;
        if (user) {
            const userLoginTime = Date.now();
            document.getElementById('userInfo').textContent = `Salam, ${user.displayName}`;
            loginBtn.classList.add('hidden');
            db.ref('users/' + user.uid).set({ displayName: user.displayName, email: user.email });
            if (balanceListener) balanceListener.off();
            balanceListener = db.ref('balances/' + user.uid).on('value', snapshot => {
                const balanceData = snapshot.val();
                let newBalance = (balanceData && typeof balanceData.amount === 'number') ? balanceData.amount : 0;
                const balanceElement = document.getElementById('balance');
                if (newBalance > lastKnownBalance && lastKnownBalance !== 0) {
                    createCoinShower();
                    balanceElement.classList.add('balance-update-text');
                    balanceElement.addEventListener('animationend', () => { balanceElement.classList.remove('balance-update-text'); }, { once: true });
                    animateCountUp(balanceElement, lastKnownBalance, newBalance, 1200);
                } else {
                    balanceElement.textContent = newBalance.toFixed(2);
                }
                lastKnownBalance = newBalance;
            });
            supportWidget.style.display = 'block';
            initializeSupportChat(user);
            initializeSystemStatus();
            listenForMoneyRain();
            listenForNotifications(user.uid, userLoginTime); // BÄ°LDÄ°RÄ°Å SÄ°STEMÄ° Ä°ÅÆ SALINIR
        } else {
            document.getElementById('userInfo').textContent = '';
            document.getElementById('balance').textContent = '0.00';
            loginBtn.classList.remove('hidden');
            lastKnownBalance = 0;
            if (balanceListener) balanceListener.off();
            if (chatStateListener) chatStateListener.off();
            if (messageListener) messageListener.off();
            if(notificationDepositListener) notificationDepositListener.off();
            if(notificationWithdrawalListener) notificationWithdrawalListener.off();
            supportWidget.style.display = 'none';
        }
    });

    function cancelWithdrawal(withdrawalId, amount) { const parsedAmount = parseFloat(amount); if (!confirm(`${parsedAmount.toFixed(2)} AZN mÉ™blÉ™ÄŸindÉ™ki Ã§Ä±xarÄ±ÅŸ sorÄŸusunu lÉ™ÄŸv etmÉ™k istÉ™diyinizÉ™ É™minsiniz? MÉ™blÉ™ÄŸ balansÄ±nÄ±za geri qaytarÄ±lacaq.`)) { return; } const user = auth.currentUser; if (!user) return alert("XÉ™ta: Ä°stifadÉ™Ã§i tapÄ±lmadÄ±."); const withdrawalRef = db.ref(`withdrawals/${withdrawalId}`); withdrawalRef.once('value').then(snapshot => { const request = snapshot.val(); if (!request || request.status !== 'pending') { alert("Bu sorÄŸu artÄ±q emal edilib vÉ™ lÉ™ÄŸv edilÉ™ bilmÉ™z."); document.getElementById('notification-bell').click(); return; } const updates = {}; updates[`/withdrawals/${withdrawalId}/status`] = 'cancelled'; updates[`/balances/${user.uid}/amount`] = firebase.database.ServerValue.increment(parsedAmount); db.ref().update(updates).then(() => { alert("SorÄŸunuz lÉ™ÄŸv edildi vÉ™ mÉ™blÉ™ÄŸ balansÄ±nÄ±za geri qaytarÄ±ldÄ±."); const modal = document.getElementById('notificationsModal'); if (modal.style.display === 'flex') { modal.style.display = 'none'; setTimeout(() => document.getElementById('notification-bell').click(), 200); } }).catch(error => { alert("XÉ™ta baÅŸ verdi: " + error.message); }); }); }
    
    document.getElementById('loginBtn').addEventListener('click', () => { const provider = new firebase.auth.GoogleAuthProvider(); auth.signInWithPopup(provider).catch(error => alert(error.message)); });
    
    // Modal aÃ§ma/baÄŸlama dÃ¼ymÉ™lÉ™ri yeni funksiyalarÄ± istifadÉ™ edir
    document.getElementById('payBtn').addEventListener('click', () => openModal('payModal'));
    document.getElementById('cekBtn').addEventListener('click', () => openModal('cekModal'));
    document.getElementById('pulCekBtn').addEventListener('click', () => openModal('pulCekModal'));
    document.querySelectorAll('.close-modal-btn').forEach(btn => btn.addEventListener('click', closeModal));
    
    document.getElementById('sendCekBtn').addEventListener('click', () => { window.open(`https://wa.me/+994513239857?text=${encodeURIComponent('Ã‡EKÄ° GÃ–NDÆRÄ°RÆM')}`, '_blank'); document.getElementById('cekModal').style.display = 'none'; });
    
    let fetchAndDisplayHistory;
    document.getElementById('notification-bell').addEventListener('click', () => { const user = auth.currentUser; if (!user) return alert('TarixÃ§É™yÉ™ baxmaq Ã¼Ã§Ã¼n daxil olun.'); openModal('notificationsModal'); document.getElementById('notification-badge').style.display = 'none'; const announcementsContainer = document.getElementById('announcements-container'); announcementsContainer.innerHTML = ''; db.ref('announcements').limitToLast(5).once('value').then(snapshot => { if (snapshot.exists()) { let announcements = []; snapshot.forEach(child => { announcements.push(child.val()); }); announcements.reverse().forEach(ann => { const annDiv = document.createElement('div'); annDiv.className = 'announcement-item'; annDiv.innerHTML = `<p class="announcement-text">${ann.text}</p><div class="announcement-meta">${new Date(ann.createdAt).toLocaleDateString()}</div>`; announcementsContainer.appendChild(annDiv); }); } }); fetchAndDisplayHistory('all'); });
    fetchAndDisplayHistory = function(filterType = 'all') { const user = auth.currentUser; if (!user) return; const list = document.getElementById('notifications-list'); list.innerHTML = '<p>YÃ¼klÉ™nir...</p>'; document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active')); const activeButton = [...document.querySelectorAll('.filter-btn')].find(btn => btn.getAttribute('onclick').includes(`'${filterType}'`)); if (activeButton) activeButton.classList.add('active'); let startTime = 0; const now = new Date(); if (filterType === '7d') { startTime = now.setDate(now.getDate() - 7); } else if (filterType === 'month') { startTime = new Date(now.getFullYear(), now.getMonth(), 1).getTime(); } Promise.all([db.ref('withdrawals').orderByChild('uid').equalTo(user.uid).once('value'), db.ref('deposits').orderByChild('uid').equalTo(user.uid).once('value')]).then(([withdrawalsSnapshot, depositsSnapshot]) => { let allTransactions = []; withdrawalsSnapshot.forEach(child => allTransactions.push({ key: child.key, ...child.val() })); depositsSnapshot.forEach(child => allTransactions.push({ ...child.val(), type: 'deposit' })); const filteredTransactions = allTransactions.filter(item => item.createdAt >= startTime); if (filteredTransactions.length === 0) { list.innerHTML = '<p>Bu dÃ¶vr Ã¼Ã§Ã¼n heÃ§ bir É™mÉ™liyyat tapÄ±lmadÄ±.</p>'; return; } filteredTransactions.sort((a, b) => b.createdAt - a.createdAt); list.innerHTML = ''; filteredTransactions.forEach(data => { const itemDiv = document.createElement('div'); if (data.type === 'deposit') { itemDiv.className = 'notification-item status-deposit'; const descriptionText = data.description || 'BalansÄ±nÄ±za vÉ™sait É™lavÉ™ edildi.'; itemDiv.innerHTML = `<div class="notification-item-header"><span class="notification-item-amount positive">+${parseFloat(data.amount).toFixed(2)} AZN</span><span class="notification-item-status">MÉ™daxil</span></div><div class="notification-item-body"><span>${descriptionText}</span></div><div class="notification-item-footer">${new Date(data.createdAt).toLocaleString()}</div>`; } else { let statusText, statusClass; switch (data.status) { case 'approved': statusText = 'OnaylandÄ±'; statusClass = 'status-approved'; break; case 'rejected': statusText = 'RÉ™dd edildi'; statusClass = 'status-rejected'; break; case 'pending': statusText = 'GÃ¶zlÉ™mÉ™dÉ™'; statusClass = 'status-pending'; break; case 'cancelled': statusText = 'LÉ™ÄŸv Edildi'; statusClass = 'status-cancelled'; break; default: statusText = data.status; statusClass = 'status-cancelled'; } let actionHtml = data.status === 'pending' ? `<button class="cancel-btn" onclick="cancelWithdrawal('${data.key}', ${data.requestData.amount})">LÉ™ÄŸv Et</button>` : ''; const maskedCardNumber = data.requestData.cardNumber ? '**** ' + data.requestData.cardNumber.slice(-4) : 'Kart mÉ™lumatÄ± yoxdur'; itemDiv.className = `notification-item ${statusClass}`; itemDiv.innerHTML = `<div class="notification-item-header"><span class="notification-item-amount negative">-${parseFloat(data.requestData.amount).toFixed(2)} AZN</span><span class="notification-item-status">${statusText}</span></div><div class="notification-item-body"><span>Kart: ${maskedCardNumber}</span> ${actionHtml}</div><div class="notification-item-footer">${new Date(data.createdAt).toLocaleString()}</div>`; } list.appendChild(itemDiv); }); }).catch(error => { list.innerHTML = '<p>MÉ™lumatlarÄ± yÃ¼klÉ™yÉ™rkÉ™n xÉ™ta baÅŸ verdi.</p>'; console.error("Error fetching data:", error); }); };
      document.getElementById('withdrawBtn').addEventListener('click', () => { const user = auth.currentUser; if (!user) return alert('ZÉ™hmÉ™t olmasa, daxil olun.'); db.ref('balances/' + user.uid).once('value', snapshot => { const currentBalance = (snapshot.val() && typeof snapshot.val().amount === 'number') ? snapshot.val().amount : 0; const amount = parseFloat(document.getElementById('withdrawAmount').value); const name = document.getElementById('userName').value.trim(); const surname = document.getElementById('userSurname').value.trim(); const card = document.getElementById('cardNumber').value.trim(); if (isNaN(amount) || amount <= 0 || !name || !surname || !card) return alert('BÃ¼tÃ¼n xanalarÄ± dÃ¼zgÃ¼n doldurun.'); if (card.length !== 16 || isNaN(card)) return alert('Kart nÃ¶mrÉ™si 16 rÉ™qÉ™mdÉ™n ibarÉ™t olmalÄ±dÄ±r.'); if (amount > currentBalance) return alert('BalansÄ±nÄ±zda kifayÉ™t qÉ™dÉ™r vÉ™sait yoxdur.'); const balanceRef = db.ref('balances/' + user.uid); balanceRef.transaction(currentData => { if (!currentData || amount > currentData.amount) return; return { amount: currentData.amount - amount }; }, (error, committed) => { if (error) { alert('ÆmÉ™liyyat zamanÄ± xÉ™ta baÅŸ verdi: ' + error.message); } else if (committed) { const request = { uid: user.uid, userEmail: user.email, requestData: { name, surname, cardNumber: card, amount }, status: 'pending', createdAt: firebase.database.ServerValue.TIMESTAMP }; db.ref('withdrawals').push(request).then(() => { alert('SorÄŸunuz gÃ¶ndÉ™rildi.'); closeModal({target: document.getElementById('withdrawBtn')}); ['withdrawAmount', 'userName', 'userSurname', 'cardNumber'].forEach(id => document.getElementById(id).value = ''); }).catch(err => { alert('SorÄŸu yaradÄ±larkÉ™n xÉ™ta baÅŸ verdi, mÉ™blÉ™ÄŸ balansÄ±nÄ±za geri qaytarÄ±lÄ±r: ' + err.message); balanceRef.transaction(currentData => ({ amount: (currentData.amount || 0) + amount })); }); } else { alert('BalansÄ±nÄ±zda kifayÉ™t qÉ™dÉ™r vÉ™sait yoxdur.'); } }); }); });
    function initializeSupportChat(user) { const chatWindow = document.getElementById('chat-window'), chatToggleBtn = document.getElementById('chat-toggle-btn'), chatMessages = document.getElementById('chat-messages'), chatInput = document.getElementById('chat-input'), sendChatBtn = document.getElementById('send-chat-btn'), chatBadge = document.getElementById('chat-notification-badge'); if (messageListener) messageListener.off(); if (chatStateListener) chatStateListener.off(); chatToggleBtn.onclick = () => { const isHidden = chatWindow.style.display === 'none' || chatWindow.style.display === ''; chatWindow.style.display = isHidden ? 'flex' : 'none'; if (isHidden) { db.ref(`support_chats/${user.uid}/new_message_for_user_count`).set(0); } }; const chatRef = db.ref(`support_chats/${user.uid}`); chatStateListener = chatRef.on('value', (snapshot) => { const count = snapshot.val()?.new_message_for_user_count || 0; chatBadge.textContent = count; chatBadge.style.display = count > 0 ? 'flex' : 'none'; }); chatMessages.innerHTML = ''; const messagesRef = db.ref(`support_chats/${user.uid}/messages`).limitToLast(50); messageListener = messagesRef.on('child_added', (snapshot) => { const message = snapshot.val(), messageDiv = document.createElement('div'); messageDiv.className = `message ${message.sender === 'admin' ? 'admin' : 'user'}`; messageDiv.textContent = message.text; chatMessages.appendChild(messageDiv); chatMessages.scrollTop = chatMessages.scrollHeight; }); const sendMessage = () => { const text = chatInput.value.trim(); if (text === '') return; const messageData = { text: text, sender: user.uid, timestamp: firebase.database.ServerValue.TIMESTAMP }; db.ref(`support_chats/${user.uid}/messages`).push(messageData); db.ref(`support_chats/${user.uid}`).update({ user_email: user.email, last_message: text, last_updated: firebase.database.ServerValue.TIMESTAMP, new_message_for_admin: true }); chatInput.value = ''; }; sendChatBtn.onclick = sendMessage; chatInput.onkeydown = (event) => { if (event.key === 'Enter' && !event.shiftKey) { event.preventDefault(); sendMessage(); } }; }
    document.getElementById('status-icon').addEventListener('click', () => { openModal('statusModal'); });
    function initializeSystemStatus() { const statusRef = db.ref('system_status'); const statusListContainer = document.getElementById('status-list'); statusRef.on('value', (snapshot) => { if (!snapshot.exists()) { statusListContainer.innerHTML = '<p>Sistem vÉ™ziyyÉ™ti haqqÄ±nda mÉ™lumat yoxdur.</p>'; return; } const statuses = snapshot.val(); statusListContainer.innerHTML = ''; const sortedStatuses = Object.values(statuses).sort((a, b) => a.order - b.order); sortedStatuses.forEach(data => { const itemDiv = document.createElement('div'); itemDiv.className = 'status-item'; itemDiv.innerHTML = ` <div class="status-indicator ${data.state || 'paused'}"></div> <div class="status-text"> <span class="label">${data.label}</span> <span class="description">${data.status_text}</span> </div> `; statusListContainer.appendChild(itemDiv); }); }); }
    window.onload = function() { playSound('https://cdn.pixabay.com/audio/2022/08/04/audio_34b08701e6.mp3'); const preloader = document.getElementById('preloader'); const animatedBag = document.getElementById('animated-bag'); const finalBag = document.querySelector('#home-page .card .bag'); const contentWrapper = document.querySelector('.content-wrapper'); preloader.style.opacity = '0'; setTimeout(() => { animatedBag.style.opacity = '1'; animatedBag.style.transition = 'all 1.2s cubic-bezier(0.68, -0.6, 0.32, 1.6)'; }, 200); setTimeout(() => { if (!finalBag) return; const finalBagRect = finalBag.getBoundingClientRect(); animatedBag.style.left = `${finalBagRect.left + finalBagRect.width / 2}px`; animatedBag.style.top = `${finalBagRect.top + finalBagRect.height / 2}px`; animatedBag.style.fontSize = getComputedStyle(finalBag).fontSize; }, 1000); setTimeout(() => { preloader.style.display = 'none'; animatedBag.style.display = 'none'; contentWrapper.style.opacity = '1'; contentWrapper.style.visibility = 'visible'; }, 2200); };
    let countdownInterval; let rainTimeout; let currentRainInterval = 500; let currentRainSpeed = 3.5;
    function listenForMoneyRain() { const moneyRainRef = db.ref('moneyRainEvent'); moneyRainRef.on('value', (snapshot) => { const event = snapshot.val(); console.log("Money Rain Event Update:", event); if (!event) return; switch (event.status) { case 'pending': hideRainAnimation(); document.getElementById('leaderboardModal').style.display = 'none'; showCountdown(event.startTime); break; case 'active': document.getElementById('leaderboardModal').style.display = 'none'; hideCountdown(); startRainAnimation(); break; case 'finished': hideRainAnimation(); hideCountdown(); showLeaderboard(event.leaderboard); break; default: hideRainAnimation(); hideCountdown(); break; } }); }
    function showCountdown(startTime) { const banner = document.getElementById('countdown-banner'); const timerEl = document.getElementById('countdown-timer'); banner.style.display = 'block'; setTimeout(() => banner.classList.add('visible'), 50); clearInterval(countdownInterval); countdownInterval = setInterval(() => { const remaining = Math.max(0, Math.round((startTime - Date.now()) / 1000)); timerEl.textContent = remaining; if (remaining <= 0) { clearInterval(countdownInterval); } }, 1000); }
    function hideCountdown() { const banner = document.getElementById('countdown-banner'); banner.classList.remove('visible'); clearInterval(countdownInterval); }
    function startRainAnimation() { if (rainTimeout) clearTimeout(rainTimeout); document.getElementById('game-overlay').style.display = 'block'; currentRainInterval = 500; currentRainSpeed = 3.5; function gameLoop() { createFallingCoin(); rainTimeout = setTimeout(gameLoop, currentRainInterval); } gameLoop(); }
    function hideRainAnimation() { document.getElementById('game-overlay').style.display = 'none'; clearTimeout(rainTimeout); rainTimeout = null; document.querySelectorAll('.falling-coin').forEach(c => c.remove()); }
    function createFallingCoin() { const coin = document.createElement('div'); coin.className = 'falling-coin'; coin.textContent = ['ğŸª™', 'ğŸ’°', 'ğŸ’µ', 'ğŸ’'][Math.floor(Math.random() * 4)]; coin.style.left = `${Math.random() * 95}vw`; coin.style.animation = `fall-animation ${Math.random() * 1 + currentRainSpeed}s linear forwards`; coin.onclick = (event) => collectCoin(event.currentTarget); document.body.appendChild(coin); setTimeout(() => coin.remove(), (currentRainSpeed + 1.5) * 1000); }
    function collectCoin(coinElement) { playSound('https://cdn.pixabay.com/audio/2022/03/10/audio_c848a67232.mp3'); const user = auth.currentUser; if (!user || !coinElement) return; coinElement.remove(); currentRainSpeed = Math.max(1.5, currentRainSpeed - 0.05); currentRainInterval = Math.max(100, currentRainInterval - 5); const userScoreRef = db.ref(`moneyRainEvent/participants/${user.uid}`); userScoreRef.transaction((data) => { if (data === null) { return { score: 1, displayName: user.displayName }; } else { return { ...data, score: (data.score || 0) + 1 }; } }); }
    function showLeaderboard(leaderboardData) { console.log("Showing leaderboard with data:", leaderboardData); const modal = document.getElementById('leaderboardModal'); const listContainer = document.getElementById('leaderboard-list'); if (!leaderboardData || Object.keys(leaderboardData).length === 0) { listContainer.innerHTML = '<ul><li>NÉ™ticÉ™lÉ™r tapÄ±lmadÄ± vÉ™ ya heÃ§ kim iÅŸtirak etmÉ™di.</li></ul>'; openModal('leaderboardModal'); return; } const sortedPlayers = Object.values(leaderboardData).sort((a, b) => (b.reward || 0) - (a.reward || 0)); let leaderboardHtml = '<ul>'; if (sortedPlayers.length > 0) { sortedPlayers.slice(0, 20).forEach((player, index) => { leaderboardHtml += `<li>#${index + 1} <b>${player.displayName}</b> - ${parseFloat(player.reward || 0).toFixed(2)} AZN qazandÄ±!</li>`; }); } leaderboardHtml += '</ul>'; listContainer.innerHTML = leaderboardHtml; openModal('leaderboardModal'); }
    // --- YENÄ° LÄ°DERLÆR CÆDVÆLÄ° FUNKSÄ°YASI ---
    async function displayLeaderboard() {
        const container = document.getElementById('leaderboard-container');
        container.innerHTML = '<p>YÃ¼klÉ™nir...</p>';
        try {
            const usersSnapshot = await db.ref('users').once('value');
            const balancesSnapshot = await db.ref('balances').once('value');
            if (!usersSnapshot.exists() || !balancesSnapshot.exists()) {
                container.innerHTML = '<p>LiderlÉ™r cÉ™dvÉ™li Ã¼Ã§Ã¼n kifayÉ™t qÉ™dÉ™r mÉ™lumat yoxdur.</p>';
                return;
            }
            const users = usersSnapshot.val();
            const balances = balancesSnapshot.val();
            const leaderboard = Object.keys(users).map(uid => {
                return {
                    uid: uid,
                    name: users[uid].displayName,
                    balance: balances[uid] ? balances[uid].amount : 0
                };
            }).filter(user => user.balance > 0).sort((a, b) => b.balance - a.balance).slice(0, 20); // Top 20
            
            if (leaderboard.length === 0) {
                container.innerHTML = '<p>HÉ™lÉ™ heÃ§ bir istifadÉ™Ã§inin balansÄ± yoxdur.</p>';
                return;
            }
            let html = '<ol>';
            leaderboard.forEach((user, index) => {
                html += `
                    <li>
                        <span class="rank">#${index + 1}</span>
                        <span class="name">${user.name}</span>
                        <span class="balance">${user.balance.toFixed(2)} AZN</span>
                    </li>`;
            });
            html += '</ol>';
            container.innerHTML = html;
        } catch (error) {
            console.error("LiderlÉ™r cÉ™dvÉ™li yÃ¼klÉ™nÉ™rkÉ™n xÉ™ta:", error);
            container.innerHTML = '<p>MÉ™lumatlarÄ± yÃ¼klÉ™yÉ™rkÉ™n xÉ™ta baÅŸ verdi.</p>';
        }
    }
</script>
</body>
</html>
